SET(PROJ_NAME helloworld)

set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${PROJ_NAME})
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY}/${PROJ_NAME})

set(GRAPHML_FILE "${CMAKE_CURRENT_SOURCE_DIR}/${PROJ_NAME}.graphml")
REGEN_GENERATE_CPP(GRAPHML ${GRAPHML_FILE} PROJECT_PREFIX ${PROJ_NAME} GENERATED_DIRS source_dirs)

foreach(dir ${source_dirs})
    add_subdirectory(${dir} ${dir})
endforeach()