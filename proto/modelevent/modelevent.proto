syntax="proto3";

package re_common;

message Info{
    string hostname = 1;
    double timestamp = 2;
    uint64 uid = 3;
    Info info = 4;
}


message Component{
    string id = 1;          //Id of instance
    string name = 2;        //Name of instance
    string type = 3;        //Name of component definition
}

message Port{
    enum PortKind{
        TX = 0;
        RX = 1;
        PE = 2;
    }

    string id = 1;          //Id of instance
    string name = 2;        //Name of port instance
    string type = 3;        //Name of port's data type
    PortKind kind = 4;      //direction of port/periodic event
}

message LifecycleEvent{
    enum Type{
        STARTED = 0;
        ACTIVATED = 1;
        PASSIVATED = 2;
        TERMINATED = 3;
    }
    Info info = 1;
    Type type = 2;

    Component component = 3;
    Port port = 4;
}

message WorkloadEvent{
    enum Type{
        STARTED = 0;
        FINISHED = 1;
        MESSAGE = 2;
    }
    Info info = 1;
    string id = 2;              //Implementation's workload id
    string name = 3;            //Function name
    string type = 4;            //Function's library
    Component component = 5;    //Instance id of component impl
    string description = 6;
}

message UserEvent{
    Info info = 1;
    Component component = 2;
    Port port = 3;
}
